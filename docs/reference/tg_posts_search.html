<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Method for searching publications by keyword. Returns publications, sorted in reverse chronological order (most recent from the top), in which the search text was found."><title>Search publications — tg_posts_search • rtgstat</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Search publications — tg_posts_search"><meta property="og:description" content="Method for searching publications by keyword. Returns publications, sorted in reverse chronological order (most recent from the top), in which the search text was found."><meta property="og:image" content="/reference/figures/logo.png"><meta property="og:image:alt" content="Loading telegram channel stat from TGStat API"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114798296-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-114798296-1');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rtgstat</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://api.tgstat.ru/docs/ru/start/intro.html">TGStat API Docs</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://t.me/R4marketing" aria-label="Telegram">
    <span class="fa fa-telegram"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://www.youtube.com/R4marketing/?sub_confirmation=1" aria-label="YouTube">
    <span class="fa fa-youtube"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/selesnow/rtgstat/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Search publications</h1>
      <small class="dont-index">Source: <a href="https://github.com/selesnow/rtgstat/blob/HEAD/R/tg_posts_search.R" class="external-link"><code>R/tg_posts_search.R</code></a></small>
      <div class="d-none name"><code>tg_posts_search.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Method for searching publications by keyword. Returns publications, sorted in reverse chronological order (most recent from the top), in which the search text was found.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">tg_posts_search</span><span class="op">(</span>
  <span class="va">query</span>,
  peer_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"all"</span>, <span class="st">"channel"</span>, <span class="st">"chat"</span><span class="op">)</span>,
  start_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fl">15</span>,
  end_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>,
  hide_forwards <span class="op">=</span> <span class="fl">0</span>,
  hide_deleted <span class="op">=</span> <span class="fl">0</span>,
  strong_search <span class="op">=</span> <span class="fl">0</span>,
  minus_mords <span class="op">=</span> <span class="cn">NULL</span>,
  extended_syntax <span class="op">=</span> <span class="fl">0</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>query</dt>
<dd><p>Search query</p></dd>
<dt>peer_type</dt>
<dd><p>Source type (channel, chat, all)</p></dd>
<dt>start_date</dt>
<dd><p>Published date from (timestamp)</p></dd>
<dt>end_date</dt>
<dd><p>Date published to (timestamp)</p></dd>
<dt>hide_forwards</dt>
<dd><p>Hide reposts from search results</p></dd>
<dt>hide_deleted</dt>
<dd><p>Hide deleted posts</p></dd>
<dt>strong_search</dt>
<dd><p>Enable strict search (disables morphology and search by part of a word)</p></dd>
<dt>minus_mords</dt>
<dd><p>List of negative words (separator - space)</p></dd>
<dt>extended_syntax</dt>
<dd><p>Whether the request uses <a href="https://api.tgstat.ru/docs/ru/extended-syntax.html" class="external-link">extended query syntax</a>, see details</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>list with two tibbles</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Keyword / phrase search methods support extended query syntax. You must pass the extendedSyntax parameter (or extended_syntax in newer API methods) to indicate to the parser that the search query contains statements from the extended query language.</p>
<p><strong>Morphology:</strong></p>
<p>Regardless of the form in which you used a word in a query, by default all its morphological forms are taken into account (in any case, singular and plural). That is, by request mom will also find publications in which mom, mom, mom, mom, etc. are found.
To change this behavior, you must use the <code>=</code> operator.</p>
<p><strong>Exact occurrence of the word. Operator =</strong></p>
<p>The <code>=</code> operator in front of a word tells the analyzer that the given word should be searched for in an exact match with the transmitted one. The query <code>=mom</code> will only find posts with the word mom. Publications containing the words mum, mum, mum, mum in the text will NOT be found.</p>
<p><strong>Search by multiple words</strong></p>
<p>When transferring several words separated by spaces to a search query, publications will be found in which each of these words occurs at the same time.
The request mom dad will find publications in the text of which both of these words appear simultaneously in any order and case, at any distance from each other.</p>
<p><strong>OR operator |</strong></p>
<p>If you need to find publications in which at least one of the words occurs, you must use the OR operator <code>|</code>.
Request <code>Mom | dad</code> will find publications in the text of which at least one of these words is found.</p>
<p><strong>Search for a phrase. Operator ""</strong></p>
<p>The query <code>mama washed the frame</code>, enclosed in double quotes, sets a strict word order, explaining to the analyzer that it needs to find the entire phrase passed. Only those publications will be found in which these three words appear side by side in the same order as specified in the request.
Publications containing these words in word forms other than those submitted will also be found. To change this behavior, you must use the <code>=</code> operator.
The <code>query = "mama soap frame"</code> will only find publications in which these three words appear side by side in the same order and in the same case as indicated in the query.</p>
<p><strong>Using negative keywords. Operator -</strong></p>
<p>Using the operator <code>-</code> you can specify which words should not appear in the text of the publication. The query <code>"mama soap" -frame</code> will show publications that contain the phrases mummy soap, mummy washed, ..., but do not contain the words frame, frame, etc.</p>
<p><strong>Grouping words. Operator ()</strong></p>
<p>Using parentheses in a search query allows you to group parts of a query and make more complex combinations using the operators described above.
The query <code>(mom | dad | brother | sister)</code> <code>(soap | painted)</code> <code>(frame | door)</code> will find publications in the text of which at least one word from each word group is necessarily found. Those. publications will be found containing: mom washed the frame, dad washed the frame, sister painted the door, etc.
The query <code>(mom | dad) (dyed) - (frame | door | hair)</code> will find publications, the text of which must contain at least one of the words of the first group mom, dad, it must contain a word from the second group painted, dyed, dyed, but not contains words from the last group frame, door, hair.</p>
<p>You can practice writing search queries in our <a href="https://tgstat.ru/search" class="external-link">publication search tool</a> (do not forget to check the "Advanced language" checkbox to enable the advanced query syntax mode).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="va">post_search</span> <span class="op">&lt;-</span> <span class="fu">tg_posts_search</span><span class="op">(</span></span>
<span class="r-in">    query <span class="op">=</span> <span class="st">'rtgstat package'</span>,</span>
<span class="r-in">    peer_type <span class="op">=</span> <span class="st">'channel'</span>,</span>
<span class="r-in">    start_date <span class="op">=</span> <span class="st">'2021-11-01'</span>,</span>
<span class="r-in">    end_date <span class="op">=</span> <span class="st">'2021-11-31'</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">search_result</span> <span class="op">&lt;-</span> <span class="va">post_search</span><span class="op">$</span><span class="va">items</span></span>
<span class="r-in"><span class="va">channels</span> <span class="op">&lt;-</span> <span class="va">post_search</span><span class="op">$</span><span class="va">channels</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Alexey Seleznev.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.0.</p>
</div>

    </footer></div>

  

  

  </body></html>

